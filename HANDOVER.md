# AI引継ぎ資料 (HANDOVER)

このファイルは、開発環境を別のPCに移行する際、次のAIアシスタントに現状を伝えるための資料です。

## プロジェクト概要
**Minecraft RPG Datapack** (1.21.x)
Minecraftのバニラ要素を活かしたRPGデータパック。

## 現在の実装状況
以下のシステムが実装済み、動作確認済みです。

### 1. ステータスシステム (`data/status/`)
- 全てのステータスはスコアボードで管理。`rpg.` などのプレフィックスは**削除済み**。
- `STATS.md` に詳細な計算式あり。
- **実装済みステータス**:
  - `HP`, `MP` (Max値あり)
  - `STR` (攻撃力), `DEF` (防御力), `AGI` (移動速度)
  - `INT` (MP回復速度), `SPD` (攻撃速度), `LUCK` (幸運)
- **特徴**:
  - HP表示は常にハート10個（20ポイント）固定。実際の体力は `(HP / MaxHP) * 20` で計算して表示。

### 2. プレイヤーシステム (`data/player/`)
- **初期化**: `/function player:setup`
- **レベルアップ**: 経験値 (`exp`) が `exp_next` に達すると自動レベルアップ。全ステータス+1。
- **HUD**: アクションバーに常にステータスを表示。

### 3. 名前空間の構成
- `rpg`: イニシャライズ (`init`)、メインループ (`tick`)
- `player`: プレイヤー固有の処理（EXP獲得、レベルアップ、HUD）
- `status`: ステータス計算・適用処理（`apply_player`, `regen_mp`）

## 次に取り組むべきタスク
1. **GitHubへのアップロード** (ユーザー作業)
2. **MOBへのステータス適用**
   - `data/status/function/apply_mob.mcfunction` はまだ骨組みのみ。
3. **職業（クラス）システム**
   - ステータス成長率の変化など。
4. **スキルシステム**
   - MPを消費するアクティブスキル。

## 重要な注意点
- `tick.mcfunction` 内で `execute as @a run function ...` しているので、呼び出される側の関数 (例: `regen_mp`) は `@s` として記述する前提になっているものがある。
- `init.mcfunction` には計算用の定数 (`#10`, `#20` など) が定義されている。

---
**合言葉**: "MinecraftならではのRPG"
